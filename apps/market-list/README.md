# FIX äº¤æ˜“å¯¹è¡Œæƒ…ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº React + TypeScript + Apollo Client æ„å»ºçš„å®æ—¶äº¤æ˜“å¯¹è¡Œæƒ…å±•ç¤ºç³»ç»Ÿï¼Œæ”¯æŒä» FIX åè®®è·å–äº¤æ˜“æ•°æ®å¹¶è¿›è¡Œå®æ—¶å±•ç¤ºã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **å®æ—¶æ•°æ®æ›´æ–°**: æ¯5ç§’è‡ªåŠ¨è½®è¯¢è·å–æœ€æ–°äº¤æ˜“å¯¹æ•°æ®
- **äº¤æ˜“å¯¹æœç´¢**: æ”¯æŒæŒ‰äº¤æ˜“å¯¹ç¬¦å·è¿›è¡Œå®æ—¶æœç´¢è¿‡æ»¤
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¾å¤‡
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„åŠ è½½çŠ¶æ€ã€é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶
- **TypeScript**: å®Œæ•´çš„ç±»å‹å®‰å…¨ä¿éšœ
- **ç°ä»£åŒ–UI**: ç¾è§‚çš„ç•Œé¢è®¾è®¡å’Œæµç•…çš„äº¤äº’ä½“éªŒ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 19
- **ç±»å‹ç³»ç»Ÿ**: TypeScript
- **æ•°æ®è·å–**: Apollo Client + GraphQL
- **æ„å»ºå·¥å…·**: Vite
- **åŒ…ç®¡ç†å™¨**: Bun
- **æ ·å¼**: CSS3 + CSS Modules

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ apollo/                 # Apollo Client é…ç½®
â”‚   â”œâ”€â”€ client.ts          # Apollo Client å®ä¾‹
â”‚   â””â”€â”€ mockServer.ts      # æ¨¡æ‹Ÿ GraphQL æœåŠ¡å™¨
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ ErrorMessage.tsx   # é”™è¯¯æç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ LoadingSpinner.tsx # åŠ è½½çŠ¶æ€ç»„ä»¶
â”‚   â”œâ”€â”€ SearchBar.tsx      # æœç´¢æ ç»„ä»¶
â”‚   â”œâ”€â”€ TradingPairItem.tsx # äº¤æ˜“å¯¹åˆ—è¡¨é¡¹
â”‚   â””â”€â”€ TradingPairList.tsx # äº¤æ˜“å¯¹åˆ—è¡¨å®¹å™¨
â”œâ”€â”€ graphql/               # GraphQL æŸ¥è¯¢å®šä¹‰
â”‚   â””â”€â”€ queries.ts         # æŸ¥è¯¢è¯­å¥
â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ React Hooks
â”‚   â””â”€â”€ useMarketData.ts   # å¸‚åœºæ•°æ®ç›¸å…³ Hooks
â”œâ”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ market.ts          # å¸‚åœºæ•°æ®ç±»å‹
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ mockData.ts        # æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨
â”œâ”€â”€ App.tsx               # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ App.css               # åº”ç”¨æ ·å¼
â”œâ”€â”€ main.tsx              # åº”ç”¨å…¥å£
â””â”€â”€ index.css             # å…¨å±€æ ·å¼
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- Bun >= 1.0

### å®‰è£…ä¾èµ–

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd market-list-app

# å®‰è£…ä¾èµ–
bun install
```

### ç¯å¢ƒé…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®ä½ çš„ GraphQL ç«¯ç‚¹
# VITE_GRAPHQL_ENDPOINT=https://your-fix-api.example.com/graphql
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
bun run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
bun run build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
bun run preview
```

## ğŸ“Š æ•°æ®æ¨¡å‹

### äº¤æ˜“å¯¹ä¿¡æ¯ (TradingPair)

```typescript
interface TradingPair {
  symbol: string;              // äº¤æ˜“å¯¹ç¬¦å·ï¼Œå¦‚ "BTCUSDT"
  lastPrice: number;           // æœ€æ–°ä»·æ ¼
  volume: number;              // 24å°æ—¶äº¤æ˜“é‡
  priceChange24h: number;      // 24å°æ—¶ä»·æ ¼å˜åŒ–
  priceChangePercent24h: number; // 24å°æ—¶ä»·æ ¼å˜åŒ–ç™¾åˆ†æ¯”
}
```

### è®¢å•è–„ä¿¡æ¯ (OrderBook)

```typescript
interface OrderBook {
  symbol: string;              // äº¤æ˜“å¯¹ç¬¦å·
  bids: OrderBookEntry[];      // ä¹°å•åˆ—è¡¨
  asks: OrderBookEntry[];      // å–å•åˆ—è¡¨
  timestamp: number;           // æ—¶é—´æˆ³
}

interface OrderBookEntry {
  price: number;               // ä»·æ ¼
  quantity: number;            // æ•°é‡
}
```

### Kçº¿æ•°æ® (KlineData)

```typescript
interface KlineData {
  timestamp: number;           // æ—¶é—´æˆ³
  open: number;               // å¼€ç›˜ä»·
  high: number;               // æœ€é«˜ä»·
  low: number;                // æœ€ä½ä»·
  close: number;              // æ”¶ç›˜ä»·
  volume: number;             // æˆäº¤é‡
}
```

## ğŸ”§ é…ç½®è¯´æ˜

### Apollo Client é…ç½®

é¡¹ç›®æ”¯æŒä¸¤ç§æ•°æ®æºæ¨¡å¼ï¼š

1. **æ¨¡æ‹Ÿæ•°æ®æ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰: ç”¨äºå¼€å‘å’Œæ¼”ç¤º
2. **çœŸå®APIæ¨¡å¼**: è¿æ¥åˆ°å®é™…çš„ FIX åè®®æ•°æ®æº

é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ `VITE_GRAPHQL_ENDPOINT` æ¥åˆ‡æ¢æ¨¡å¼ã€‚

### è½®è¯¢é…ç½®

- äº¤æ˜“å¯¹æ•°æ®: æ¯5ç§’æ›´æ–°
- è®¢å•è–„æ•°æ®: æ¯2ç§’æ›´æ–°
- Kçº¿æ•°æ®: æ¯10ç§’æ›´æ–°

å¯ä»¥é€šè¿‡ä¿®æ”¹ `useMarketData.ts` ä¸­çš„ `pollInterval` å‚æ•°æ¥è°ƒæ•´è½®è¯¢é¢‘ç‡ã€‚

## ğŸ¨ UI ç‰¹æ€§

- **ç°ä»£åŒ–è®¾è®¡**: é‡‡ç”¨æ¸å˜èƒŒæ™¯å’Œæ¯›ç»ç’ƒæ•ˆæœ
- **å“åº”å¼å¸ƒå±€**: å®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸
- **æš—è‰²ä¸»é¢˜**: è‡ªåŠ¨é€‚é…ç³»ç»Ÿä¸»é¢˜åå¥½
- **åŠ è½½çŠ¶æ€**: éª¨æ¶å±å’ŒåŠ è½½åŠ¨ç”»
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶
- **æœç´¢åŠŸèƒ½**: å®æ—¶æœç´¢è¿‡æ»¤äº¤æ˜“å¯¹

## ğŸ”Œ æ‰©å±•åŠŸèƒ½

é¡¹ç›®é¢„ç•™äº†ä»¥ä¸‹æ‰©å±•æ¥å£ï¼š

1. **è®¢å•è–„å±•ç¤º**: å¯ä»¥æ‰©å±•æ˜¾ç¤ºä¹°å–ç›˜æ·±åº¦
2. **Kçº¿å›¾è¡¨**: å¯ä»¥é›†æˆå›¾è¡¨åº“æ˜¾ç¤ºä»·æ ¼èµ°åŠ¿
3. **å®æ—¶æ¨é€**: å¯ä»¥æ›¿æ¢è½®è¯¢ä¸º WebSocket å®æ—¶æ¨é€
4. **æ›´å¤šæŒ‡æ ‡**: å¯ä»¥æ·»åŠ æ›´å¤šæŠ€æœ¯æŒ‡æ ‡å’Œå¸‚åœºæ•°æ®

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æº**: å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦é…ç½®çœŸå®çš„ FIX åè®®æ•°æ®æº
2. **è®¤è¯**: å¦‚æœ API éœ€è¦è®¤è¯ï¼Œè¯·åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½® `VITE_API_TOKEN`
3. **CORS**: ç¡®ä¿ GraphQL ç«¯ç‚¹æ”¯æŒè·¨åŸŸè¯·æ±‚
4. **æ€§èƒ½**: å¤§é‡æ•°æ®æ—¶å»ºè®®å®ç°è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–æ€§èƒ½

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æŸ¥è¯¢

1. åœ¨ `src/graphql/queries.ts` ä¸­å®šä¹‰ GraphQL æŸ¥è¯¢
2. åœ¨ `src/types/market.ts` ä¸­æ·»åŠ å¯¹åº”çš„ TypeScript ç±»å‹
3. åœ¨ `src/hooks/useMarketData.ts` ä¸­åˆ›å»ºè‡ªå®šä¹‰ Hook
4. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ–°çš„ Hook

### è‡ªå®šä¹‰æ ·å¼

é¡¹ç›®ä½¿ç”¨ CSS Modules å’Œå…¨å±€æ ·å¼ç›¸ç»“åˆçš„æ–¹å¼ï¼š
- ç»„ä»¶æ ·å¼: ä½¿ç”¨ç‹¬ç«‹çš„ `.css` æ–‡ä»¶
- å…¨å±€æ ·å¼: åœ¨ `src/App.css` å’Œ `src/index.css` ä¸­å®šä¹‰

### é”™è¯¯å¤„ç†

é¡¹ç›®æä¾›äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š
- ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- å¼€å‘ç¯å¢ƒæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [Apollo Client](https://www.apollographql.com/docs/react/) - GraphQL å®¢æˆ·ç«¯
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·
- [Bun](https://bun.sh/) - JavaScript è¿è¡Œæ—¶å’ŒåŒ…ç®¡ç†å™¨
